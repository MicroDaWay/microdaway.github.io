"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9359],{4823:(r,n,e)=>{e.r(n),e.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var t=e(5893),s=e(1151);const o={sidebar_position:14},a="\u914d\u7f6e",i={id:"Configuration",title:"\u914d\u7f6e",description:"\u914d\u7f6e scss \u5168\u5c40\u53d8\u91cf",source:"@site/docs/Configuration.md",sourceDirName:".",slug:"/Configuration",permalink:"/docs/Configuration",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:14,frontMatter:{sidebar_position:14},sidebar:"tutorialSidebar",previous:{title:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f",permalink:"/docs/WeChatMiniProgram"},next:{title:"MySQL",permalink:"/docs/MySQL"}},c={},l=[{value:"\u914d\u7f6e scss \u5168\u5c40\u53d8\u91cf",id:"\u914d\u7f6e-scss-\u5168\u5c40\u53d8\u91cf",level:2},{value:"\u914d\u7f6e\u8def\u5f84\u522b\u540d",id:"\u914d\u7f6e\u8def\u5f84\u522b\u540d",level:2},{value:"\u914d\u7f6e\u8def\u5f84\u522b\u540d\u7684\u63d0\u793a",id:"\u914d\u7f6e\u8def\u5f84\u522b\u540d\u7684\u63d0\u793a",level:2},{value:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",id:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",level:2},{value:"\u79fb\u52a8\u7aef\u70b9\u51fb a \u6807\u7b7e\u4e0d\u663e\u793a\u84dd\u8272\u65b9\u5757",id:"\u79fb\u52a8\u7aef\u70b9\u51fb-a-\u6807\u7b7e\u4e0d\u663e\u793a\u84dd\u8272\u65b9\u5757",level:2},{value:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u6eda\u52a8\u6761\u7684\u6837\u5f0f",id:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u6eda\u52a8\u6761\u7684\u6837\u5f0f",level:2},{value:"CSS \u5b9e\u73b0\u6587\u5b57\u663e\u793a\u7701\u7565\u53f7",id:"css-\u5b9e\u73b0\u6587\u5b57\u663e\u793a\u7701\u7565\u53f7",level:2},{value:"\u9762\u5305\u5c51\u5bfc\u822a",id:"\u9762\u5305\u5c51\u5bfc\u822a",level:2},{value:"\u9012\u5f52\u7ec4\u4ef6\u9700\u8981\u6709 name \u5c5e\u6027",id:"\u9012\u5f52\u7ec4\u4ef6\u9700\u8981\u6709-name-\u5c5e\u6027",level:2},{value:"\u5168\u5c4f\u6548\u679c",id:"\u5168\u5c4f\u6548\u679c",level:2},{value:"\u6279\u91cf\u6ce8\u518c\u5168\u5c40\u7ec4\u4ef6",id:"\u6279\u91cf\u6ce8\u518c\u5168\u5c40\u7ec4\u4ef6",level:2},{value:"\u6570\u636e\u5927\u5c4f\u9002\u914d",id:"\u6570\u636e\u5927\u5c4f\u9002\u914d",level:2},{value:"axios \u4e8c\u6b21\u5c01\u88c5",id:"axios-\u4e8c\u6b21\u5c01\u88c5",level:2},{value:"\u6eda\u52a8\u89e6\u5e95\u7684\u5224\u65ad\u6761\u4ef6",id:"\u6eda\u52a8\u89e6\u5e95\u7684\u5224\u65ad\u6761\u4ef6",level:2},{value:"\u5c0f\u7a0b\u5e8f\u548c uni-app \u76f8\u5173\u914d\u7f6e",id:"\u5c0f\u7a0b\u5e8f\u548c-uni-app-\u76f8\u5173\u914d\u7f6e",level:2},{value:"\u5c0f\u7a0b\u5e8f\u7aef pinia \u6301\u4e45\u5316\u5b58\u50a8",id:"\u5c0f\u7a0b\u5e8f\u7aef-pinia-\u6301\u4e45\u5316\u5b58\u50a8",level:3},{value:"\u5c01\u88c5\u8bf7\u6c42\u51fd\u6570",id:"\u5c01\u88c5\u8bf7\u6c42\u51fd\u6570",level:3},{value:"\u81ea\u5b9a\u4e49\u5bfc\u822a\u680f",id:"\u81ea\u5b9a\u4e49\u5bfc\u822a\u680f",level:3},{value:"\u83b7\u53d6\u5c4f\u5e55\u8fb9\u754c\u5230\u5b89\u5168\u533a\u57df\u7684\u8ddd\u79bb",id:"\u83b7\u53d6\u5c4f\u5e55\u8fb9\u754c\u5230\u5b89\u5168\u533a\u57df\u7684\u8ddd\u79bb",level:3},{value:"uni-app \u70b9\u51fb\u56fe\u7247\u8fdb\u884c\u9884\u89c8",id:"uni-app-\u70b9\u51fb\u56fe\u7247\u8fdb\u884c\u9884\u89c8",level:3},{value:"\u4fee\u6539\u7528\u6237\u5934\u50cf",id:"\u4fee\u6539\u7528\u6237\u5934\u50cf",level:3},{value:"\u5b9a\u4e49\u5168\u5c40\u7ec4\u4ef6\u7684\u7c7b\u578b",id:"\u5b9a\u4e49\u5168\u5c40\u7ec4\u4ef6\u7684\u7c7b\u578b",level:3},{value:"\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u7c7b\u578b",id:"\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u7c7b\u578b",level:3},{value:"React \u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e00",id:"react-\u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e00",level:2},{value:"React \u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e8c",id:"react-\u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e8c",level:2},{value:"React \u8def\u7531\u91cd\u5b9a\u5411",id:"react-\u8def\u7531\u91cd\u5b9a\u5411",level:2},{value:"React \u8def\u7531\u61d2\u52a0\u8f7d",id:"react-\u8def\u7531\u61d2\u52a0\u8f7d",level:2},{value:"React \u5d4c\u5957\u8def\u7531\u5199\u6cd5",id:"react-\u5d4c\u5957\u8def\u7531\u5199\u6cd5",level:2},{value:"react-redux",id:"react-redux",level:2},{value:"react-redux \u6570\u636e\u548c\u65b9\u6cd5\u4ece reducer \u4e2d\u8fdb\u884c\u62bd\u79bb",id:"react-redux-\u6570\u636e\u548c\u65b9\u6cd5\u4ece-reducer-\u4e2d\u8fdb\u884c\u62bd\u79bb",level:2},{value:"react-redux \u6a21\u5757\u5316 reducer",id:"react-redux-\u6a21\u5757\u5316-reducer",level:2}];function d(r){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,t.jsx)(n.h2,{id:"\u914d\u7f6e-scss-\u5168\u5c40\u53d8\u91cf",children:"\u914d\u7f6e scss \u5168\u5c40\u53d8\u91cf"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"vite.config.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"export default defineConfig({\r\n  css: {\r\n    preprocessorOptions: {\r\n      scss: {\r\n        javascriptEnabled: true,\r\n        additionalData: '@import \"./src/styles/variables.scss\";',\r\n      },\r\n    },\r\n  },\r\n})\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u914d\u7f6e\u8def\u5f84\u522b\u540d",children:"\u914d\u7f6e\u8def\u5f84\u522b\u540d"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"vite.config.ts"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5b89\u88c5\u4f9d\u8d56\uff1a",(0,t.jsx)(n.code,{children:"npm i @types/node -D"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import { defineConfig } from 'vite'\r\nimport react from '@vitejs/plugin-react'\r\nimport path from 'path'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [react()],\r\n  resolve: {\r\n    alias: {\r\n      '@': path.resolve(__dirname, './src'),\r\n    },\r\n  },\r\n})\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u914d\u7f6e\u8def\u5f84\u522b\u540d\u7684\u63d0\u793a",children:"\u914d\u7f6e\u8def\u5f84\u522b\u540d\u7684\u63d0\u793a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"tsconfig.json/jsconfig.json"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\r\n  "compilerOptions": {\r\n    "baseUrl": "./",\r\n    "paths": {\r\n      "@/*": ["src/*"]\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",children:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:".env.development"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"VITE_BASE_API = \u5f00\u53d1\u73af\u5883API\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:".env.production"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"VITE_BASE_API = \u751f\u4ea7\u73af\u5883API\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"env.d.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'/// <reference types="vite/client" />\r\n\r\n// \u53ef\u4ee5\u7f16\u5199\u4e00\u4e9b\u9879\u76ee\u73af\u5883\u53d8\u91cf\u7684\u7c7b\u578b\u63cf\u8ff0\r\ninterface ImportMetaEnv {\r\n  VITE_BASE_API: string\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u79fb\u52a8\u7aef\u70b9\u51fb-a-\u6807\u7b7e\u4e0d\u663e\u793a\u84dd\u8272\u65b9\u5757",children:"\u79fb\u52a8\u7aef\u70b9\u51fb a \u6807\u7b7e\u4e0d\u663e\u793a\u84dd\u8272\u65b9\u5757"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:"a {\r\n  text-decoration: none;\r\n  color: inherit;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u6eda\u52a8\u6761\u7684\u6837\u5f0f",children:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u6eda\u52a8\u6761\u7684\u6837\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:"/* \u5b9a\u4e49\u6eda\u52a8\u6761\u5bbd\u5ea6 */\r\n::-webkit-scrollbar {\r\n  width: 12px;\r\n}\r\n\r\n/* \u5b9a\u4e49\u6eda\u52a8\u6761\u8f68\u9053\u6837\u5f0f */\r\n::-webkit-scrollbar-track {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* \u5b9a\u4e49\u6eda\u52a8\u6761\u6ed1\u5757\u6837\u5f0f */\r\n::-webkit-scrollbar-thumb {\r\n  background-color: #888;\r\n}\r\n\r\n/* \u5b9a\u4e49\u6eda\u52a8\u6761\u6309\u94ae\u6837\u5f0f */\r\n::-webkit-scrollbar-button {\r\n  display: none; /* \u9690\u85cf\u6eda\u52a8\u6761\u6309\u94ae */\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"css-\u5b9e\u73b0\u6587\u5b57\u663e\u793a\u7701\u7565\u53f7",children:"CSS \u5b9e\u73b0\u6587\u5b57\u663e\u793a\u7701\u7565\u53f7"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:"/* \u4e00\u884c\u663e\u793a\u7701\u7565\u53f7 */\r\n.ellipsis {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n/* \u4e24\u884c\u663e\u793a\u7701\u7565\u53f7 */\r\n.ellipsis-2 {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u9762\u5305\u5c51\u5bfc\u822a",children:"\u9762\u5305\u5c51\u5bfc\u822a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'<el-breadcrumb separator-icon="ArrowRight">\r\n  <el-breadcrumb-item\r\n    v-for="item in route.matched"\r\n    :key="item.path"\r\n    :to="{ path: item.path }"\r\n    v-show="item.meta.title"\r\n  >\r\n    <el-icon style="margin-right: 5px">\r\n      <component :is="item.meta.icon"></component>\r\n    </el-icon>\r\n    <span>{{ item.meta.title }}</span>\r\n  </el-breadcrumb-item>\r\n</el-breadcrumb>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u9012\u5f52\u7ec4\u4ef6\u9700\u8981\u6709-name-\u5c5e\u6027",children:"\u9012\u5f52\u7ec4\u4ef6\u9700\u8981\u6709 name \u5c5e\u6027"}),"\n",(0,t.jsx)(n.h2,{id:"\u5168\u5c4f\u6548\u679c",children:"\u5168\u5c4f\u6548\u679c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const fullScreenHandler = () => {\r\n  // DOM\u5bf9\u8c61\u7684\u4e00\u4e2a\u5c5e\u6027: \u53ef\u4ee5\u7528\u6765\u5224\u65ad\u5f53\u524d\u662f\u4e0d\u662f\u5168\u5c4f\u6a21\u5f0f \u5168\u5c4f: html\u5143\u7d20 \u4e0d\u662f\u5168\u5c4f: null\r\n  const isFull = document.fullscreenElement\r\n\r\n  if (!isFull) {\r\n    // \u5207\u6362\u4e3a\u5168\u5c4f\u6a21\u5f0f\r\n    // \u6587\u6863\u6839\u8282\u70b9\u7684\u65b9\u6cd5 requestFullscreen \u5b9e\u73b0\u5168\u5c4f\u6a21\u5f0f\r\n    document.documentElement.requestFullscreen()\r\n  } else {\r\n    // \u9000\u51fa\u5168\u5c4f\r\n    document.exitFullscreen()\r\n  }\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u6279\u91cf\u6ce8\u518c\u5168\u5c40\u7ec4\u4ef6",children:"\u6279\u91cf\u6ce8\u518c\u5168\u5c40\u7ec4\u4ef6"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import SvgIcon from './SvgIcon/index.vue'\r\nimport Category from './Category/index.vue'\r\n\r\nconst obj: any = {\r\n  SvgIcon,\r\n  Category,\r\n}\r\n\r\n// \u5bf9\u5916\u66b4\u9732\u63d2\u4ef6\u5bf9\u8c61\r\nexport default {\r\n  install(app: any) {\r\n    for (const [key, component] of Object.entries(obj)) {\r\n      app.component(key, component)\r\n    }\r\n  },\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u6570\u636e\u5927\u5c4f\u9002\u914d",children:"\u6570\u636e\u5927\u5c4f\u9002\u914d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html lang="zh">\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\r\n    <title>Document</title>\r\n    <style>\r\n      * {\r\n        margin: 0;\r\n        padding: 0;\r\n        box-sizing: border-box;\r\n      }\r\n\r\n      .container {\r\n        width: 100vw;\r\n        height: 100vh;\r\n        background-color: red;\r\n      }\r\n\r\n      .box {\r\n        position: fixed;\r\n        left: 50%;\r\n        top: 50%;\r\n        width: 1920px;\r\n        height: 1080px;\r\n        background-color: orange;\r\n        transform-origin: left top;\r\n      }\r\n\r\n      .box01 {\r\n        width: 200px;\r\n        height: 200px;\r\n        background-color: skyblue;\r\n      }\r\n\r\n      .box02 {\r\n        width: 200px;\r\n        height: 200px;\r\n        background-color: #bfa;\r\n        margin-top: 100px;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <div class="container">\r\n      <div class="box">\r\n        <div class="box01">xiaomi 14</div>\r\n        <div class="box02">xiaomi 14 pro</div>\r\n      </div>\r\n    </div>\r\n\r\n    <script>\r\n      const getScale = (width = 1920, height = 1080) => {\r\n        const w = window.innerWidth / width\r\n        const h = window.innerHeight / height\r\n        return w < h ? w : h\r\n      }\r\n\r\n      const box = document.getElementsByClassName(\'box\')[0]\r\n      box.style.transform = `scale(${getScale()}) translate(-50%, -50%)`\r\n\r\n      window.onresize = () => {\r\n        box.style.transform = `scale(${getScale()}) translate(-50%, -50%)`\r\n      }\r\n    <\/script>\r\n  </body>\r\n</html>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-vue",children:'<script setup lang="ts">\r\nconst containerRef = ref()\r\n\r\nconst getScale = (width = 1920, height = 1080) => {\r\n  const w = window.innerWidth / width\r\n  const h = window.innerHeight / height\r\n  return w < h ? w : h\r\n}\r\n\r\nonMounted(() => {\r\n  containerRef.value.style.transform = `scale(${getScale()}) translate(-50%, -50%)`\r\n})\r\n\r\nwindow.onresize = () => {\r\n  containerRef.value.style.transform = `scale(${getScale()}) translate(-50%, -50%)`\r\n}\r\n<\/script>\r\n\r\n<template>\r\n  <div class="screen">\r\n    <div class="container" ref="containerRef">\r\n      <Top></Top>\r\n      <div class="bottom">\r\n        <div class="left">\r\n          <Tourist class="tourist"></Tourist>\r\n          <Gender class="gender"></Gender>\r\n          <Age class="age"></Age>\r\n        </div>\r\n        <div class="center">\r\n          <Map class="map"></Map>\r\n          <Line class="line"></Line>\r\n        </div>\r\n        <div class="right">\r\n          <Rank class="rank"></Rank>\r\n          <Contrast class="contrast"></Contrast>\r\n          <Reservation class="reservation"></Reservation>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"axios-\u4e8c\u6b21\u5c01\u88c5",children:"axios \u4e8c\u6b21\u5c01\u88c5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import axios from 'axios'\r\nimport { ElMessage } from 'element-plus'\r\nimport { useUserStore } from '@/store/modules/user'\r\n\r\nconst instance = axios.create({\r\n  baseURL: import.meta.env.VITE_APP_BASE_API,\r\n  timeout: 5000,\r\n})\r\n\r\n// \u6dfb\u52a0\u8bf7\u6c42\u62e6\u622a\u5668\r\ninstance.interceptors.request.use(\r\n  function (config) {\r\n    // \u5728\u53d1\u9001\u8bf7\u6c42\u4e4b\u524d\u505a\u4e9b\u4ec0\u4e48\r\n\r\n    const userStore = useUserStore()\r\n    const token = userStore.token\r\n\r\n    if (token) {\r\n      config.headers.token = token\r\n    }\r\n\r\n    return config\r\n  },\r\n  function (error) {\r\n    // \u5bf9\u8bf7\u6c42\u9519\u8bef\u505a\u4e9b\u4ec0\u4e48\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// \u6dfb\u52a0\u54cd\u5e94\u62e6\u622a\u5668\r\ninstance.interceptors.response.use(\r\n  function (response) {\r\n    // 2xx \u8303\u56f4\u5185\u7684\u72b6\u6001\u7801\u90fd\u4f1a\u89e6\u53d1\u8be5\u51fd\u6570\u3002\r\n    // \u5bf9\u54cd\u5e94\u6570\u636e\u505a\u70b9\u4ec0\u4e48\r\n\r\n    return response.data\r\n  },\r\n  function (error) {\r\n    // \u8d85\u51fa 2xx \u8303\u56f4\u7684\u72b6\u6001\u7801\u90fd\u4f1a\u89e6\u53d1\u8be5\u51fd\u6570\u3002\r\n    // \u5bf9\u54cd\u5e94\u9519\u8bef\u505a\u70b9\u4ec0\u4e48\r\n    const status = error.response.status\r\n\r\n    let message = ''\r\n\r\n    switch (status) {\r\n      case 401:\r\n        message = 'token\u8fc7\u671f'\r\n        break\r\n      case 403:\r\n        message = '\u6ca1\u6709\u6743\u9650'\r\n        break\r\n      case 404:\r\n        message = '\u8bf7\u6c42\u8def\u5f84\u9519\u8bef'\r\n        break\r\n      case 500:\r\n        message = '\u670d\u52a1\u5668\u7e41\u5fd9'\r\n        break\r\n      default:\r\n        message = '\u7f51\u7edc\u5f02\u5e38'\r\n        break\r\n    }\r\n\r\n    ElMessage({\r\n      type: 'error',\r\n      message,\r\n    })\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default instance\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u6eda\u52a8\u89e6\u5e95\u7684\u5224\u65ad\u6761\u4ef6",children:"\u6eda\u52a8\u89e6\u5e95\u7684\u5224\u65ad\u6761\u4ef6"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"xxx.scrollHeight - xxx.scrollTop === xxx.clientHeight\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5c0f\u7a0b\u5e8f\u548c-uni-app-\u76f8\u5173\u914d\u7f6e",children:"\u5c0f\u7a0b\u5e8f\u548c uni-app \u76f8\u5173\u914d\u7f6e"}),"\n",(0,t.jsx)(n.h3,{id:"\u5c0f\u7a0b\u5e8f\u7aef-pinia-\u6301\u4e45\u5316\u5b58\u50a8",children:"\u5c0f\u7a0b\u5e8f\u7aef pinia \u6301\u4e45\u5316\u5b58\u50a8"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import { defineStore } from 'pinia'\r\nimport { ref } from 'vue'\r\n\r\n// \u5b9a\u4e49 Store\r\nexport const useMemberStore = defineStore(\r\n  'member',\r\n  () => {\r\n    // \u4f1a\u5458\u4fe1\u606f\r\n    const profile = ref<any>()\r\n\r\n    // \u4fdd\u5b58\u4f1a\u5458\u4fe1\u606f\uff0c\u767b\u5f55\u65f6\u4f7f\u7528\r\n    const setProfile = (val: any) => {\r\n      profile.value = val\r\n    }\r\n\r\n    // \u6e05\u7406\u4f1a\u5458\u4fe1\u606f\uff0c\u9000\u51fa\u65f6\u4f7f\u7528\r\n    const clearProfile = () => {\r\n      profile.value = undefined\r\n    }\r\n\r\n    // \u8bb0\u5f97 return\r\n    return {\r\n      profile,\r\n      setProfile,\r\n      clearProfile,\r\n    }\r\n  },\r\n  // TODO: \u6301\u4e45\u5316\r\n  {\r\n    // \u7f51\u9875\u7aef\u7684\u914d\u7f6e\r\n    // persist: true,\r\n\r\n    // \u5c0f\u7a0b\u5e8f\u7aef\u914d\u7f6e\r\n    persist: {\r\n      storage: {\r\n        getItem(key) {\r\n          return uni.getStorageSync(key)\r\n        },\r\n        setItem(key, value) {\r\n          uni.setStorageSync(key, value)\r\n        },\r\n      },\r\n    },\r\n  },\r\n)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u5c01\u88c5\u8bf7\u6c42\u51fd\u6570",children:"\u5c01\u88c5\u8bf7\u6c42\u51fd\u6570"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import { useUserStore } from '@/store/modules/user'\r\n\r\n// const baseURL = 'http://localhost:8080'\r\nconst baseURL = 'http://192.168.43.236:8080'\r\n\r\n// \u6dfb\u52a0\u62e6\u622a\u5668\r\nconst interceptorObj = {\r\n  // \u62e6\u622a\u524d\u89e6\u53d1\r\n  invoke(options: UniApp.RequestOptions) {\r\n    if (!options.url.startsWith('http')) {\r\n      options.url = baseURL + options.url\r\n    }\r\n\r\n    // \u8bf7\u6c42\u8d85\u65f6 \u9ed8\u8ba4\u4e3a 60s\r\n    options.timeout = 5000\r\n\r\n    options.header = {}\r\n\r\n    // \u6dfb\u52a0token\u8bf7\u6c42\u5934\u6807\u8bc6\r\n    const userStore = useUserStore()\r\n    const token = userStore.token\r\n    if (token) {\r\n      options.header.Authorization = token\r\n    }\r\n  },\r\n}\r\n\r\nuni.addInterceptor('request', interceptorObj)\r\nuni.addInterceptor('uploadFile', interceptorObj)\r\n\r\ninterface ResponseData<T> {\r\n  code: number\r\n  message: string\r\n  data: T\r\n}\r\n\r\nconst request = <T>(options: UniApp.RequestOptions) => {\r\n  return new Promise<ResponseData<T>>((resolve, reject) => {\r\n    uni.request({\r\n      ...options,\r\n      // \u8bf7\u6c42\u6210\u529f\r\n      success(res) {\r\n        if (res.statusCode >= 200 && res.statusCode < 300) {\r\n          resolve(res.data as ResponseData<T>)\r\n        } else if (res.statusCode === 401) {\r\n          // 401\u9519\u8bef \u6e05\u7406\u7528\u6237\u4fe1\u606f \u8df3\u8f6c\u5230\u767b\u5f55\u9875\r\n          const userStore = useUserStore()\r\n          userStore.clearUserInfo()\r\n          uni.navigateTo({\r\n            url: '/pages/login/login',\r\n          })\r\n          uni.showToast({\r\n            icon: 'none',\r\n            title: (res.data as ResponseData<T>).message,\r\n          })\r\n          reject(res)\r\n        } else {\r\n          // \u5176\u4ed6\u9519\u8bef\r\n          uni.showToast({\r\n            icon: 'none',\r\n            title: (res.data as ResponseData<T>).message || '\u8bf7\u6c42\u9519\u8bef',\r\n          })\r\n          reject(res)\r\n        }\r\n      },\r\n      // \u8bf7\u6c42\u9519\u8bef\r\n      fail(err) {\r\n        uni.showToast({\r\n          icon: 'none',\r\n          title: '\u7f51\u8def\u9519\u8bef',\r\n        })\r\n        reject(err)\r\n      },\r\n    })\r\n  })\r\n}\r\n\r\nexport default request\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u81ea\u5b9a\u4e49\u5bfc\u822a\u680f",children:"\u81ea\u5b9a\u4e49\u5bfc\u822a\u680f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"pages.json"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'"pages": [\r\n  {\r\n    "path": "pages/index/index",\r\n    "style": {\r\n      "navigationStyle": "custom", // \u81ea\u5b9a\u4e49\u5bfc\u822a\u680f\r\n      "navigationBarTextStyle": "white"\r\n    }\r\n  },\r\n],\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u83b7\u53d6\u5c4f\u5e55\u8fb9\u754c\u5230\u5b89\u5168\u533a\u57df\u7684\u8ddd\u79bb",children:"\u83b7\u53d6\u5c4f\u5e55\u8fb9\u754c\u5230\u5b89\u5168\u533a\u57df\u7684\u8ddd\u79bb"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const { safeAreaInsets } = uni.getSystemInfoSync()\r\nconst top = safeAreaInsets.top + 'px'\n"})}),"\n",(0,t.jsx)(n.h3,{id:"uni-app-\u70b9\u51fb\u56fe\u7247\u8fdb\u884c\u9884\u89c8",children:"uni-app \u70b9\u51fb\u56fe\u7247\u8fdb\u884c\u9884\u89c8"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const previewImage = (url: string) => {\r\n  uni.previewImage({\r\n    current: url,\r\n    urls: goodsData.value.mainPictures,\r\n  })\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u4fee\u6539\u7528\u6237\u5934\u50cf",children:"\u4fee\u6539\u7528\u6237\u5934\u50cf"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// \u4fee\u6539\u5934\u50cf\u7684\u5904\u7406\u51fd\u6570\r\nconst changeAvatar = () => {\r\n  uni.chooseMedia({\r\n    count: 1,\r\n    mediaType: ['image'],\r\n    success: (res) => {\r\n      const tempFilePath = res.tempFiles[0].tempFilePath\r\n\r\n      uni.uploadFile({\r\n        url: '/uploadAvatar',\r\n        name: 'file',\r\n        filePath: tempFilePath,\r\n        success: (result) => {\r\n          console.log(result)\r\n\r\n          if (result.statusCode === 200) {\r\n            formData.value.avatar = JSON.parse(result.data).data\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: '\u4fee\u6539\u5934\u50cf\u6210\u529f',\r\n            })\r\n          } else {\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: JSON.parse(result.data).message,\r\n            })\r\n          }\r\n        },\r\n      })\r\n    },\r\n  })\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u5b9a\u4e49\u5168\u5c40\u7ec4\u4ef6\u7684\u7c7b\u578b",children:"\u5b9a\u4e49\u5168\u5c40\u7ec4\u4ef6\u7684\u7c7b\u578b"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"components.d.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import 'vue'\r\nimport XtxSwiper from '@/components/XtxSwiper.vue'\r\n\r\ndeclare module 'vue' {\r\n  export interface GlobalComponents {\r\n    XtxSwiper: typeof XtxSwiper\r\n  }\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u7c7b\u578b",children:"\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u7c7b\u578b"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"components.d.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import type XtxGuess from '@/components/XtxGuess.vue'\r\n\r\nexport type XtxGuessInstance = InstanceType<typeof XtxGuess>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"react-\u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e00",children:"React \u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e00"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"router/index.tsx"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import App from '@/App'\r\nimport About from '@/views/About/About'\r\nimport Home from '@/views/Home/Home'\r\nimport { Routes, Route, BrowserRouter } from 'react-router-dom'\r\n\r\nconst Router = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route path=\"/\" element={<App />}>\r\n          <Route path=\"/home\" element={<Home />} />\r\n          <Route path=\"/about\" element={<About />} />\r\n        </Route>\r\n      </Routes>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Router\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"main.tsx"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\n// \u6837\u5f0f\u521d\u59cb\u5316\u4e00\u822c\u653e\u5230\u6700\u524d\u9762\r\nimport 'reset-css'\r\n// \u5168\u5c40\u6837\u5f0f\r\nimport '@/assets/styles/global.scss'\r\nimport Router from '@/router'\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <Router />\r\n  </React.StrictMode>\r\n)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"App.tsx"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { Outlet } from 'react-router-dom'\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Outlet />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\n"})}),"\n",(0,t.jsx)(n.h2,{id:"react-\u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e8c",children:"React \u8def\u7531\u57fa\u672c\u914d\u7f6e\u65b9\u5f0f\u4e8c"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"router/index.tsx"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import About from '@/views/About/About'\r\nimport Home from '@/views/Home/Home'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nconst router = [\r\n  {\r\n    path: '/',\r\n    element: <Navigate to=\"/home\" />,\r\n  },\r\n  {\r\n    path: '/home',\r\n    element: <Home />,\r\n  },\r\n  {\r\n    path: '/about',\r\n    element: <About />,\r\n  },\r\n]\r\n\r\nexport default router\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"main.tsx"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\n// \u6837\u5f0f\u521d\u59cb\u5316\u4e00\u822c\u653e\u5230\u6700\u524d\u9762\r\nimport 'reset-css'\r\n// \u5168\u5c40\u6837\u5f0f\r\nimport '@/assets/styles/global.scss'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport App from './App'\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"App.tsx"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useRoutes } from 'react-router-dom'\r\nimport router from './router'\r\n\r\nconst App = () => {\r\n  const outlet = useRoutes(router)\r\n\r\n  return <div>{outlet}</div>\r\n}\r\n\r\nexport default App\n"})}),"\n",(0,t.jsx)(n.h2,{id:"react-\u8def\u7531\u91cd\u5b9a\u5411",children:"React \u8def\u7531\u91cd\u5b9a\u5411"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import App from \'@/App\'\r\nimport About from \'@/views/About/About\'\r\nimport Home from \'@/views/Home/Home\'\r\nimport { Routes, Route, BrowserRouter, Navigate } from \'react-router-dom\'\r\n\r\nconst Router = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route path="/" element={<App />}>\r\n          <Route path="/" element={<Navigate to="/home" />} />\r\n          <Route path="/home" element={<Home />} />\r\n          <Route path="/about" element={<About />} />\r\n        </Route>\r\n      </Routes>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Router\n'})}),"\n",(0,t.jsx)(n.h2,{id:"react-\u8def\u7531\u61d2\u52a0\u8f7d",children:"React \u8def\u7531\u61d2\u52a0\u8f7d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { Suspense, lazy } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nconst Home = lazy(() => import('@/views/Home/Home'))\r\nconst About = lazy(() => import('@/views/About/About'))\r\n\r\nconst router = [\r\n  {\r\n    path: '/',\r\n    element: <Navigate to=\"/home\" />,\r\n  },\r\n  {\r\n    path: '/home',\r\n    element: (\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Home />\r\n      </Suspense>\r\n    ),\r\n  },\r\n  {\r\n    path: '/about',\r\n    element: (\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <About />\r\n      </Suspense>\r\n    ),\r\n  },\r\n]\r\n\r\nexport default router\n"})}),"\n",(0,t.jsx)(n.h2,{id:"react-\u5d4c\u5957\u8def\u7531\u5199\u6cd5",children:"React \u5d4c\u5957\u8def\u7531\u5199\u6cd5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { Suspense, lazy } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nconst Home = lazy(() => import('@/views/Home/Home'))\r\nconst PageOne = lazy(() => import('@/views/PageOne/PageOne'))\r\nconst PageTwo = lazy(() => import('@/views/PageTwo/PageTwo'))\r\n\r\nconst loadingComponent = (component: JSX.Element) => {\r\n  return <Suspense fallback={<div>Loading...</div>}>{component}</Suspense>\r\n}\r\n\r\nconst router = [\r\n  {\r\n    path: '/',\r\n    element: <Navigate to=\"/page-one\" />,\r\n  },\r\n  {\r\n    path: '/',\r\n    element: <Home />,\r\n    children: [\r\n      {\r\n        path: 'page-one',\r\n        element: loadingComponent(<PageOne />),\r\n      },\r\n      {\r\n        path: 'page-two',\r\n        element: loadingComponent(<PageTwo />),\r\n      },\r\n    ],\r\n  },\r\n]\r\n\r\nexport default router\n"})}),"\n",(0,t.jsx)(n.h2,{id:"react-redux",children:"react-redux"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/index.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { legacy_createStore } from 'redux'\r\nimport reducer from './reducer'\r\n\r\ninterface Window {\r\n  __REDUX_DEVTOOLS_EXTENSION__: Function\r\n}\r\n\r\nconst store = legacy_createStore(\r\n  reducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n)\r\n\r\nexport default store\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/reducer.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const initialState = {\r\n  num: 100,\r\n}\r\n\r\nconst reducer = (state = initialState, action: { type: string; payload: number }) => {\r\n  const newState = structuredClone(state)\r\n\r\n  switch (action.type) {\r\n    case 'ADD':\r\n      newState.num += action.payload\r\n      break\r\n    default:\r\n      break\r\n  }\r\n\r\n  return newState\r\n}\r\n\r\nexport default reducer\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u4f7f\u7528"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst PageOne = () => {\r\n  const obj: any = useSelector((state) => state)\r\n  const dispatch = useDispatch()\r\n\r\n  const clickHandler = () => {\r\n    dispatch({\r\n      type: 'ADD',\r\n      payload: 5,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\u680f\u76ee\u4e00 {obj.num}</div>\r\n      <button onClick={clickHandler}>\u70b9\u6211\u4e00\u4e0b</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageOne\n"})}),"\n",(0,t.jsx)(n.h2,{id:"react-redux-\u6570\u636e\u548c\u65b9\u6cd5\u4ece-reducer-\u4e2d\u8fdb\u884c\u62bd\u79bb",children:"react-redux \u6570\u636e\u548c\u65b9\u6cd5\u4ece reducer \u4e2d\u8fdb\u884c\u62bd\u79bb"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/Num"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export interface NumActionType {\r\n  type: string\r\n  payload: number\r\n}\r\n\r\nexport interface NumState {\r\n  num: number\r\n}\r\n\r\nexport default {\r\n  state: {\r\n    num: 100,\r\n  },\r\n  actions: {\r\n    add(state: NumState, action: NumActionType) {\r\n      state.num += action.payload\r\n    },\r\n    sub(state: NumState, action: NumActionType) {\r\n      state.num -= action.payload\r\n    },\r\n  },\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"reducer.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import NumState, { NumActionType } from './Num/Num'\r\n\r\nconst initialState = {\r\n  ...NumState.state,\r\n}\r\n\r\nconst reducer = (state = initialState, action: NumActionType) => {\r\n  const newState = structuredClone(state)\r\n\r\n  switch (action.type) {\r\n    case 'ADD':\r\n      NumState.actions.add(newState, action)\r\n      break\r\n    case 'SUB':\r\n      NumState.actions.sub(newState, action)\r\n      break\r\n    default:\r\n      break\r\n  }\r\n\r\n  return newState\r\n}\r\n\r\nexport default reducer\n"})}),"\n",(0,t.jsx)(n.h2,{id:"react-redux-\u6a21\u5757\u5316-reducer",children:"react-redux \u6a21\u5757\u5316 reducer"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/index.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { combineReducers, legacy_createStore } from 'redux'\r\nimport ArrReducer from './Arr/ArrReducer'\r\nimport NumReducer from './Num/NumReducer'\r\n\r\nconst reducers = combineReducers({\r\n  NumReducer,\r\n  ArrReducer,\r\n})\r\n\r\nconst store = legacy_createStore(reducers)\r\n\r\nexport default store\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/Num.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export interface NumActionType {\r\n  type: string\r\n  payload: number\r\n}\r\n\r\nexport interface NumState {\r\n  num: number\r\n}\r\n\r\nexport default {\r\n  state: {\r\n    num: 100,\r\n  },\r\n  actions: {\r\n    add(state: NumState, action: NumActionType) {\r\n      state.num += action.payload\r\n    },\r\n    sub(state: NumState, action: NumActionType) {\r\n      state.num -= action.payload\r\n    },\r\n  },\r\n  ADD: 'ADD',\r\n  SUB: 'SUB',\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/NumReducer.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import NumState, { NumActionType } from './Num'\r\n\r\nconst reducer = (\r\n  state = {\r\n    ...NumState.state,\r\n  },\r\n  action: NumActionType\r\n) => {\r\n  const newState = structuredClone(state)\r\n\r\n  switch (action.type) {\r\n    case NumState.ADD:\r\n      NumState.actions.add(newState, action)\r\n      break\r\n    case NumState.SUB:\r\n      NumState.actions.sub(newState, action)\r\n      break\r\n    default:\r\n      break\r\n  }\r\n\r\n  return newState\r\n}\r\n\r\nexport default reducer\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/Arr.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export interface ArrActionType {\r\n  type: string\r\n  payload: number\r\n}\r\n\r\nexport interface ArrState {\r\n  arr: number[]\r\n}\r\n\r\nexport default {\r\n  state: {\r\n    arr: [10, 20, 30],\r\n  },\r\n  actions: {\r\n    arrPush(state: ArrState, action: ArrActionType) {\r\n      state.arr.push(action.payload)\r\n    },\r\n  },\r\n  arrPush: 'arrPush',\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"store/ArrReducer.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import ArrState, { ArrActionType } from './Arr'\r\n\r\nconst reducer = (\r\n  state = {\r\n    ...ArrState.state,\r\n  },\r\n  action: ArrActionType\r\n) => {\r\n  const newState = structuredClone(state)\r\n\r\n  switch (action.type) {\r\n    case ArrState.arrPush:\r\n      ArrState.actions.arrPush(newState, action)\r\n      break\r\n    default:\r\n      break\r\n  }\r\n\r\n  return newState\r\n}\r\n\r\nexport default reducer\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u4f7f\u7528"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import store from '@/store'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\ntype RootState = ReturnType<typeof store.getState>\r\n\r\nconst PageOne = () => {\r\n  const numObj = useSelector((state: RootState) => state.NumReducer)\r\n  const arrObj = useSelector((state: RootState) => state.ArrReducer)\r\n  const dispatch = useDispatch()\r\n\r\n  const clickHandler = () => {\r\n    dispatch({\r\n      type: 'ADD',\r\n      payload: 5,\r\n    })\r\n\r\n    dispatch({\r\n      type: 'arrPush',\r\n      payload: 40,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\u680f\u76ee\u4e00 {numObj.num} </div>\r\n      {arrObj.arr.map((item, index) => (\r\n        <li key={index}>{item}</li>\r\n      ))}\r\n      <button onClick={clickHandler}>\u70b9\u6211\u4e00\u4e0b</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageOne\n"})})]})}function u(r={}){const{wrapper:n}={...(0,s.a)(),...r.components};return n?(0,t.jsx)(n,{...r,children:(0,t.jsx)(d,{...r})}):d(r)}},1151:(r,n,e)=>{e.d(n,{Z:()=>i,a:()=>a});var t=e(7294);const s={},o=t.createContext(s);function a(r){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof r?r(n):{...n,...r}}),[n,r])}function i(r){let n;return n=r.disableParentContext?"function"==typeof r.components?r.components(s):r.components||s:a(r.components),t.createElement(o.Provider,{value:n},r.children)}}}]);