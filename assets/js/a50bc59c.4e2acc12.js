"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4130],{2039:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var t=r(5893),d=r(1151);const i={sidebar_position:5},s="Form",l={id:"Vue3Alpha/Form",title:"Form",description:"\u53cc\u5411\u6570\u636e\u7ed1\u5b9a",source:"@site/docs/Vue3Alpha/Form.md",sourceDirName:"Vue3Alpha",slug:"/Vue3Alpha/Form",permalink:"/docs/Vue3Alpha/Form",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Props",permalink:"/docs/Vue3Alpha/Props"},next:{title:"State",permalink:"/docs/Vue3Alpha/state"}},o={},a=[{value:"\u53cc\u5411\u6570\u636e\u7ed1\u5b9a",id:"\u53cc\u5411\u6570\u636e\u7ed1\u5b9a",level:2},{value:"v-model",id:"v-model",level:2},{value:"v-mdoel \u4fee\u9970\u7b26",id:"v-mdoel-\u4fee\u9970\u7b26",level:2},{value:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6",id:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6",level:2},{value:"\u4f9d\u8d56\u6ce8\u5165",id:"\u4f9d\u8d56\u6ce8\u5165",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"form",children:"Form"}),"\n",(0,t.jsx)(e.h2,{id:"\u53cc\u5411\u6570\u636e\u7ed1\u5b9a",children:"\u53cc\u5411\u6570\u636e\u7ed1\u5b9a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<script setup>\r\nimport { ref } from \'vue\'\r\n\r\nlet text = ref(\'\')\r\n\r\nconst inputHandler = (e) => {\r\n  text.value = e.target.value\r\n}\r\n\r\nconst submitHandler = () => {\r\n  console.log(text.value)\r\n}\r\n<\/script>\r\n\r\n<template>\r\n  <form @submit.prevent="submitHandler">\r\n    <div>\r\n      <input type="text" @input="inputHandler" :value="text" />\r\n    </div>\r\n    <div>\r\n      <input type="text" @input="inputHandler" :value="text" />\r\n    </div>\r\n    <div>\r\n      <button>\u63d0\u4ea4</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<style scoped></style>\n'})}),"\n",(0,t.jsx)(e.h2,{id:"v-model",children:"v-model"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5728 vue \u4e2d\uff0c\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86 v-model \u6307\u4ee4\u53ef\u4ee5\u5feb\u901f\u5b8c\u6210\u8868\u5355\u7684\u53cc\u5411\u6570\u636e\u7ed1\u5b9a"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<script setup>\r\nimport { ref } from \'vue\'\r\n\r\nconst text = ref(\'\')\r\nconst isCheck = ref(true)\r\nconst hobbies = ref([])\r\nconst gender = ref(\'\u7537\')\r\nconst friend = ref(\'\')\r\n<\/script>\r\n\r\n<template>\r\n  <form @submit.prevent="submitHandler">\r\n    <div>\u4fe1\u606f: <input type="text" v-model="text" /></div>\r\n    <div>\u662f\u5426: <input type="checkbox" v-model="isCheck" true-value="\u662f" false-value="\u5426" /></div>\r\n    <div>\r\n      \u7231\u597d:\r\n      <input v-model="hobbies" type="checkbox" name="hobby" value="\u8db3\u7403" />\u8db3\u7403\r\n      <input v-model="hobbies" type="checkbox" name="hobby" value="\u7bee\u7403" />\u7bee\u7403\r\n      <input v-model="hobbies" type="checkbox" name="hobby" value="\u7fbd\u6bdb\u7403" />\u7fbd\u6bdb\u7403\r\n      <input v-model="hobbies" type="checkbox" name="hobby" value="\u4e52\u4e53\u7403" />\u4e52\u4e53\u7403\r\n    </div>\r\n    <div>\r\n      \u6027\u522b:\r\n      <input v-model="gender" type="radio" name="gender" value="\u7537" />\u7537\r\n      <input v-model="gender" type="radio" name="gender" value="\u5973" />\u5973\r\n    </div>\r\n    <div>\r\n      \u670b\u53cb:\r\n      <select v-model="friend">\r\n        <option disabled value="">\u8bf7\u9009\u62e9\u4f60\u7684\u597d\u670b\u53cb</option>\r\n        <option>\u5b59\u609f\u7a7a</option>\r\n        <option>\u732a\u516b\u6212</option>\r\n        <option>\u6c99\u548c\u5c1a</option>\r\n      </select>\r\n    </div>\r\n    <div>\r\n      <button>\u63d0\u4ea4</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<style scoped></style>\n'})}),"\n",(0,t.jsx)(e.h2,{id:"v-mdoel-\u4fee\u9970\u7b26",children:"v-mdoel \u4fee\u9970\u7b26"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:".lazy \u4f7f\u7528 change \u6765\u5904\u7406\u6570\u636e"}),"\n",(0,t.jsx)(e.li,{children:".trim \u53bb\u9664\u524d\u540e\u7684\u7a7a\u683c"}),"\n",(0,t.jsx)(e.li,{children:".number \u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u6570\u503c"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<script setup>\r\nimport { ref } from \'vue\'\r\n\r\nconst text = ref(\'\')\r\n<\/script>\r\n\r\n<template>\r\n  <form @submit.prevent="submitHandler">\r\n    <div>\u4fe1\u606f: <input type="text" v-model.lazy.trim.number="text" /></div>\r\n    <div>\r\n      <button>\u63d0\u4ea4</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<style scoped></style>\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6",children:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u901a\u8fc7 defineProps \u5b9a\u4e49\u7684\u5c5e\u6027\u5728 attrs \u4e2d\u5c31\u4e0d\u5b58\u5728\u4e86"}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u81ea\u5b9a\u4e49\u5c5e\u6027\u65f6\uff0c\u6700\u597d\u901a\u8fc7 defineProps \u6765\u58f0\u660e"}),"\n",(0,t.jsx)(e.li,{children:"\u5728\u6a21\u677f\u4e2d\u53ef\u4ee5\u901a\u8fc7$emit()\u6765\u89e6\u53d1\u81ea\u5b9a\u4e49\u4e8b\u4ef6"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u4f9d\u8d56\u6ce8\u5165",children:"\u4f9d\u8d56\u6ce8\u5165"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u901a\u8fc7\u4f9d\u8d56\u6ce8\u5165\uff0c\u53ef\u4ee5\u8de8\u8d8a\u591a\u5c42\u7ec4\u4ef6\u5411\u5176\u4ed6\u7684\u7ec4\u4ef6\u4f20\u9012\u6570\u636e"}),"\n",(0,t.jsxs)(e.li,{children:["\u6b65\u9aa4\uff1a","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u8bbe\u7f6e\u4f9d\u8d56(provide) provide(name, value)"}),"\n",(0,t.jsx)(e.li,{children:"\u6ce8\u5165\u6570\u636e (inject) const value = inject(name, default)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"App.vue"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"<script setup>\r\nimport { provide, ref } from 'vue'\r\nimport StudentList from './components/StudentList.vue'\r\nimport StudentForm from './components/StudentForm.vue'\r\n\r\nconst STU_ARR = ref([\r\n  {\r\n    id: 1,\r\n    name: '\u5b59\u609f\u7a7a',\r\n    age: 18,\r\n    gender: '\u7537',\r\n    address: '\u82b1\u679c\u5c71',\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '\u732a\u516b\u6212',\r\n    age: 28,\r\n    gender: '\u7537',\r\n    address: '\u9ad8\u8001\u5e84',\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '\u6c99\u548c\u5c1a',\r\n    age: 38,\r\n    gender: '\u7537',\r\n    address: '\u6d41\u6c99\u6cb3',\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '\u5510\u50e7',\r\n    age: 16,\r\n    gender: '\u7537',\r\n    address: '\u5973\u513f\u56fd',\r\n  },\r\n])\r\n\r\n// \u6839\u636eid\u5220\u9664\u5b66\u751f\r\nconst deleteStudentById = (id) => {\r\n  STU_ARR.value = STU_ARR.value.filter((item) => item.id !== id)\r\n}\r\n\r\n// \u6dfb\u52a0\u5b66\u751f\r\nconst addStudent = (newStudent) => {\r\n  const id = STU_ARR.value.length > 0 ? STU_ARR.value.at(-1).id + 1 : 1\r\n  newStudent.id = id\r\n  STU_ARR.value.push(newStudent)\r\n}\r\n\r\nprovide('student', {\r\n  students: STU_ARR,\r\n  deleteStudentById,\r\n})\r\n<\/script>\r\n\r\n<template>\r\n  \x3c!--\r\n    <StudentList\r\n      :students=\"STU_ARR\"\r\n      :deleteStudentById=\"deleteStudentById\"\r\n      @delStu=\"deleteStudentById\"\r\n    ></StudentList>\r\n   --\x3e\r\n  <StudentList></StudentList>\r\n  <hr />\r\n  <StudentForm @addStu=\"addStudent\"></StudentForm>\r\n</template>\r\n\r\n<style scoped lang=\"scss\"></style>\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"StudentList.vue"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"<script setup>\r\nimport StudentItem from './StudentItem.vue'\r\n\r\n// const props = defineProps(['students', 'deleteStudentById'])\r\n// const emit = defineEmits(['delStu'])\r\n<\/script>\r\n\r\n<template>\r\n  <table>\r\n    <caption>\r\n      \u5b66\u751f\u5217\u8868\r\n    </caption>\r\n    <thead>\r\n      <tr>\r\n        <th>\u5b66\u53f7</th>\r\n        <th>\u59d3\u540d</th>\r\n        <th>\u5e74\u9f84</th>\r\n        <th>\u6027\u522b</th>\r\n        <th>\u5730\u5740</th>\r\n        <th>\u64cd\u4f5c</th>\r\n      </tr>\r\n    </thead>\r\n    \x3c!-- <StudentItem :students=\"$attrs.students\" @delStu=\"(id) => $emit('delStu', id)\"></StudentItem> --\x3e\r\n    <StudentItem></StudentItem>\r\n  </table>\r\n</template>\r\n\r\n<style scoped>\r\ntable {\r\n  width: 50%;\r\n  border-collapse: collapse;\r\n  text-align: center;\r\n}\r\n\r\ncaption {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n\r\nth {\r\n  border: 1px solid #000;\r\n}\r\n</style>\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"StudentItem.vue"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"<script setup>\r\nimport { inject } from 'vue'\r\n\r\nconst emit = defineEmits(['delStu'])\r\n\r\nconst { students, deleteStudentById } = inject('student')\r\n\r\nconst deleteHandler = (item) => {\r\n  if (confirm(`\u4f60\u786e\u8ba4\u8981\u5220\u9664[${item.name}]\u5417`)) {\r\n    // props.deleteStudentById(id)\r\n    // emit('delStu', item.id)\r\n    deleteStudentById(item.id)\r\n  }\r\n}\r\n<\/script>\r\n\r\n<template>\r\n  <tbody>\r\n    \x3c!-- \u4e0d\u5efa\u8bae\u8fd9\u4e48\u5199 --\x3e\r\n    \x3c!-- <tr v-for=\"item in $attrs.students\"> --\x3e\r\n    <tr v-for=\"item in students\">\r\n      <td>{{ item.id }}</td>\r\n      <td>{{ item.name }}</td>\r\n      <td>{{ item.age }}</td>\r\n      <td>{{ item.gender }}</td>\r\n      <td>{{ item.address }}</td>\r\n      <td>\r\n        \x3c!-- <button @click=\"deleteHandler(item.id)\">\u5220\u9664</button> --\x3e\r\n        \x3c!-- <button @click=\"$emit('delStu', item.id)\">\u5220\u9664</button> --\x3e\r\n        <button @click=\"deleteHandler(item)\">\u5220\u9664</button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</template>\r\n\r\n<style scoped>\r\ntd {\r\n  border: 1px solid #000;\r\n}\r\n</style>\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"StudentForm.vue"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'<script setup>\r\nimport { ref } from \'vue\'\r\n\r\nconst emit = defineEmits([\'addStu\'])\r\n\r\nconst formData = ref({\r\n  name: \'\',\r\n  age: \'\',\r\n  gender: \'\u7537\',\r\n  address: \'\',\r\n})\r\n\r\nconst submitHandler = () => {\r\n  emit(\'addStu\', { ...formData.value })\r\n\r\n  formData.value = {\r\n    name: \'\',\r\n    age: \'\',\r\n    gender: \'\u7537\',\r\n    address: \'\',\r\n  }\r\n}\r\n<\/script>\r\n\r\n<template>\r\n  <form>\r\n    <div>\u59d3\u540d: <input type="text" v-model="formData.name" /></div>\r\n    <div>\u5e74\u9f84: <input type="text" v-model.number="formData.age" /></div>\r\n    <div>\r\n      \u6027\u522b:\r\n      <input type="radio" name="gender" value="\u7537" v-model="formData.gender" />\u7537\r\n      <input type="radio" name="gender" value="\u5973" v-model="formData.gender" />\u5973\r\n    </div>\r\n    <div>\u4f4f\u5740: <input type="text" v-model="formData.address" /></div>\r\n    <div>\r\n      <button type="button" @click="submitHandler">\u6dfb\u52a0</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<style></style>\n'})})]})}function c(n={}){const{wrapper:e}={...(0,d.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(u,{...n})}):u(n)}},1151:(n,e,r)=>{r.d(e,{Z:()=>l,a:()=>s});var t=r(7294);const d={},i=t.createContext(d);function s(n){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:s(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);